<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        Origin : 프로토콜 + 서버명(도메인명) + 포트번호 3개로 구성
        1게라도 다르면 다른 오리진, 포트번호 64K(64 * 2의 10승)
        오리진이 섞이는 걸 Cross Origin이라고 부름
        울 부모님이 아닌 옆집 부모님에게 요청하는 것
        AJAX에서만 기본적으로 Cross-Origin 제약사항이 있음
        (서버 관리자가 설정으로 풀어주거나 다른 것까지 막을 수 있음)
        CORS Cross Origin Resource Sharing 
        
        CORS가 있는 이유 : url을 통한 페이지 이동이 아닌, 받아온 값을
        가지고 조작을 하는 것에대해 이를 막기 위함.

        그래서 이를 해결하기 위해 서버 우회 방식을 사용한다.
        클라이언트가 서버(백단)에 부탁해 타겟 서버에 값을 받아오도록 요청하면 된다.

        예) 아파치(XAMPP, 포트번호 80)에서 톰캣(포트번호 8405)로 ajax 요청을 하면
        포트번호가 일치하지 않아 CORS 오류가 발생하게 된다.
    -->
    <script>
        const xhr = new XMLHttpRequest();
        xhr.open("get", "http://localhost:8405/ddit/bypass/googleNews", true);
        xhr.onreadystatechange = function(){
            if(xhr.readyState == 4 && xhr.status == 200){
                alert("ajax 성공", xhr.responseText);
            }
        }
        xhr.send();
    </script>
</body>
</html>